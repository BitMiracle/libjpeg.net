<?xml version="1.0" encoding="UTF-8"?>
<xml>
  <file>
    <title>Progressive JPEG support</title>
    <breadcumbs>
      <link file="..\Knowledge_base.xml">
        <text>Knowledge base</text>
      </link>
      <text> :: </text>
      <link file="..\Classic_LibJpeg.xml">
        <text>Classic LibJpeg</text>
      </link>
    </breadcumbs>
    <descriptionarticle only="true">
      <text>Progressive JPEG rearranges the stored data into a series of scans of increasing quality. In situations where a JPEG file is transmitted across a slow communications link, a decoder can generate a low-quality image very quickly from the first scan, then gradually improve the displayed quality as more scans are received. The final image after all scans are complete is identical to that of a regular (sequential) JPEG file of the same quality setting. Progressive JPEG files are often slightly smaller than equivalent sequential JPEG files, but the possibility of incremental display is the main reason for using progressive JPEG.</text> <br /><br /><text>The IJG encoder library generates progressive JPEG files when given a suitable "scan script" defining how to divide the data into scans. Creation of progressive JPEG files is otherwise transparent to the encoder. Progressive JPEG files can also be read transparently by the decoder library. If the decoding application simply uses the library as defined above, it will receive a final decoded image without any indication that the file was progressive. Of course, this approach does not allow incremental display. To perform incremental display, an application needs to use the decoder library's </text> <link file="Buffered_image_mode.xml"><text>"buffered-image" mode</text> </link><text>, in which it receives a decoded image multiple times.</text> <br /><br /><text>Each displayed scan requires about as much work to decode as a full JPEG image of the same size, so the decoder must be fairly fast in relation to the data transmission rate in order to make incremental display useful. However, it is possible to skip displaying the image and simply add the incoming bits to the decoder's coefficient buffer. This is fast because only Huffman decoding need be done, not IDCT, upsampling, colorspace conversion, etc. The IJG decoder library allows the application to switch dynamically between displaying the image and simply absorbing the incoming bits. A properly coded application can automatically adapt the number of display passes to suit the time available as the image is received. Also, a final higher-quality display cycle can be performed from the buffered data after the end of the file is reached.</text> <br /><br /><b><text>Progressive compression:</text> </b><br /><br /><text>To create a progressive JPEG file (or a multiple-scan sequential JPEG file), call the </text> <link file="..\jpeg_compress_struct.jpeg_simple_progression.xml"><text>jpeg_simple_progression</text> </link><text>() helper routine to create a recommended progression sequence.</text> <br /><text>After that the compression library will store DCT'd data into a buffer array as </text> <link file="..\jpeg_compress_struct.jpeg_write_scanlines.xml"><text>jpeg_write_scanlines</text> </link><text>() is called, and will emit all the requested scans during </text> <link file="..\jpeg_compress_struct.jpeg_finish_compress.xml"><text>jpeg_finish_compress</text> </link><text>(). This implies that multiple-scan output cannot be created with a suspending data destination manager, since jpeg_finish_compress() does not support suspension. We should also note that the compressor currently forces Huffman optimization mode when creating a progressive JPEG file, because the default Huffman</text> <br /><text>tables are unsuitable for progressive files.</text> <br /><br /><b><text>Progressive decompression:</text> </b><br /><br /><text>When </text> <link file="Buffered_image_mode.xml"><text>buffered-image mode</text> </link><text> is not used, the decoder library will read all of a multi-scan file during </text> <link file="..\jpeg_decompress_struct.jpeg_start_decompress.xml"><text>jpeg_start_decompress</text> </link><text>(), so that it can provide a final decoded image. (Here "multi-scan" means either progressive or multi-scan sequential.) This makes multi-scan files transparent to the decoding application. However, existing applications that used suspending input with version 5 of the IJG library will need to be modified to check for a suspension return from jpeg_start_decompress().</text> <br /><br /><text>To perform incremental display, an application must use the library's</text> <br /><link file="Buffered_image_mode.xml"><text>buffered-image mode</text> </link><text>.</text> </descriptionarticle>
  </file>
</xml>