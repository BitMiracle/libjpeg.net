<?xml version="1.0" encoding="UTF-8"?>
<xml>
  <file>
    <title>Error handling</title>
    <breadcumbs>
      <link file="..\\Knowledge_base.xml">
        <text>Knowledge base</text>
      </link>
      <text> :: </text>
      <link file="..\Classic_LibJpeg.xml">
        <text>Classic LibJpeg</text>
      </link>
    </breadcumbs>
    <descriptionarticle only="true">
      <text>When the default error handler is used, any error detected inside the JPEG routines will cause a message to be printed on Console, followed by throwing of exception. You can supply your own error handling routines to override this behavior and to control the treatment of nonfatal warnings and trace/debug messages.</text> <br /><br /><text>The JPEG library never writes any message directly; it always goes through the error handling routines. Three classes of messages are recognized:</text> <br /><text>* Fatal errors: the library cannot continue.</text> <br /><text>* Warnings: the library can continue, but the data is corrupt, and a damaged output image is likely to result.</text> <br /><text>* Trace/informational messages. These come with a trace level indicating the importance of the message; you can control the verbosity of the program by adjusting the maximum trace level that will be displayed.</text> <br /><br /><text>All of the error handling routines will receive the JPEG object (a </text> <link file="../jpeg_common_struct.xml"><text>jpeg_common_struct</text> </link><text> which points to either a </text> <link file="../jpeg_compress_struct.xml"><text>jpeg_compress_struct</text> </link><text> or a </text> <link file="../jpeg_decompress_struct.xml"><text>jpeg_decompress_struct</text> </link><text>). This struct includes the error manager struct in its </text> <link file="../jpeg_common_struct.Err.xml"><text>Err</text> </link><text> property.</text> <br /><br /><text>The individual </text> <b><text>methods</text> </b><text> that you might wish to override are:</text> <br /><br /><table><tbody><tr><td><link file="../jpeg_error_mgr.error_exit.xml"><text>error_exit</text> </link></td><td><text>Receives control for a fatal error.</text> </td></tr><tr><td><link file="../jpeg_error_mgr.output_message.xml"><text>output_message</text> </link></td><td><text>Actual output of any JPEG message.</text> </td></tr><tr><td><link file="../jpeg_error_mgr.format_message.xml"><text>format_message</text> </link></td><td><text>Constructs a readable error message string.</text> </td></tr><tr><td><link file="../jpeg_error_mgr.emit_message.xml"><text>emit_message</text> </link></td><td><text>Decide whether or not to emit a warning or trace message.</text> </td></tr></tbody></table><p><text>Only error_exit() and emit_message() are called from the rest of the JPEG library; the other two are internal to the error handler.</text> <br /><br /><text>You can get the actual message texts using protected virtual method </text> <link file="../jpeg_error_mgr.GetMessageText.xml"><text>GetMessageText</text> </link><text>. It may be useful for an application to add its own message texts that are handled by the same mechanism. You can override GetMessageText for this purpose. If you number the addon messages beginning at 1000 or so, you won't have to worry about conflicts with the library's built-in messages. See the sample applications cjpeg/djpeg for an example of using addon messages (class BitMiracle.cdJpeg.cd_jpeg_error_mgr)</text> <br /><br /><text>Actual invocation of the error handler is done via methods defined in </text> <link file="../jpeg_common_struct.xml"><text>jpeg_common_struct</text> </link><text>:</text> </p><p><table><tbody><tr><td><link file="../jpeg_common_struct.ERREXIT.xml"><text>ERREXIT</text> </link></td><td><text>For fatal errors.</text> </td></tr><tr><td><link file="../jpeg_common_struct.WARNMS.xml"><text>WARNMS</text> </link></td><td><text>For corrupt-data warnings.</text> </td></tr><tr><td><link file="../jpeg_common_struct.TRACEMS.xml"><text>TRACEMS</text> </link></td><td><text>For trace and informational messages.</text> </td></tr></tbody></table><br /><text>These methods store the message code and any additional parameters into the error manager, then invoke the error_exit() or emit_message() method. The variants of each macro are for varying numbers of additional parameters. The additional parameters are inserted into the generated message using standard method string.Format.</text> </p></descriptionarticle>
  </file>
</xml>